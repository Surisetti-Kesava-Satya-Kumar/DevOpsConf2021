name: CI-NoAction
on:
  workflow_call:
    inputs:
      path:
        required: false
        default: './reports'
        type: string
      workspacename:
        required: true
        type: string
    secrets:
      clientid:
        required: true
      secret:
        required: true
      tenantid:
        required: true

jobs:
  build:
    runs-on: windows-latest
    steps:
      - uses: actions/checkout@v2
      - name: Call the PS script and publish PBI contents
        shell: powershell
        run: |
          . GitHub/run-task.ps1 -ClientId cloud_user_p_6084de04@realhandsonlabs.com -Secret AhkTqgG9ttlLsBW8%5NB -TenantId 84f1e4ea-8554-43e1-8709-f0b8589ea118 -FilePattern ${{ inputs.path }} -WorkspaceName ${{ inputs.workspacename }} -Action 'Publish' -Create $true -Overwrite $true
